---
const pathname = Astro.url.pathname;
const currentPath = pathname.slice(1);
Astro.url.origin;

const sections = [
  { name: "Domov", path: "/" },
  { name: "Udalosti", path: "/event_timeline" },
  { name: "Naše riešenia", path: "/projects" },
  { name: "Podcasty", path: "/podcasts" },
  { name: "Náš tím", path: "/team" },
  { name: "O nás", path: "/about_us" },
  { name: "Kontakt", path: "/contact_us" },
];
---

<header class="w-full sticky top-0 z-30">
  <!-- Top gradient line -->
  <div class="h-1 bg-gradient-to-r from-emerald-500 via-blue-500 to-[#102756]">
  </div>

  <nav
    class="bg-white dark:bg-gray-900 border-b border-gray-100 dark:border-gray-800 shadow-sm"
  >
    <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16">
        <!-- Logo and primary navigation -->
        <div class="flex">
          <!-- Logo -->
          <div class="flex-shrink-0 flex items-center">
            <a href="/" class="flex items-center">
              <img
                src="/logos/dialogue_centre_logo.svg"
                class="h-10 w-auto"
                alt="Dialogue Centre Logo"
              />
            </a>
          </div>

          <!-- Desktop Navigation -->
          <div class="hidden md:ml-8 md:flex md:items-center md:space-x-4">
            {
              sections.map((section) => (
                <a
                  href={section.path}
                  class:list={[
                    "px-3 py-2 text-sm font-medium transition-colors duration-200",
                    currentPath === section.path
                      ? "text-blue-700 dark:text-blue-400 border-b-2 border-blue-500"
                      : "text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-blue-600 dark:hover:text-blue-400",
                  ]}
                >
                  {section.name}
                </a>
              ))
            }
          </div>
        </div>

        <!-- Contact button and mobile menu button -->
        <div class="flex items-center">
          <!-- Contact button -->
          <div class="hidden md:flex items-center">
            <a
              href="/contact_us"
              class="ml-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4 mr-2"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"
                ></path>
              </svg>
              Kontaktujte nás
            </a>
          </div>

          <!-- Mobile menu button -->
          <div class="flex md:hidden">
            <button
              type="button"
              class="inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-blue-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-blue-400 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 transition-colors duration-200"
              aria-controls="navbar-mobile"
              aria-expanded="false"
              data-collapse-toggle="navbar-mobile"
            >
              <span class="sr-only">Otvoriť hlavné menu</span>
              <svg
                class="h-6 w-6"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile menu, show/hide based on menu state -->
    <div
      class="hidden md:hidden bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700"
      id="navbar-mobile"
    >
      <div class="px-2 pt-2 pb-3 space-y-1">
        <a
          href="/"
          class:list={[
            "block px-3 py-2 rounded-md text-base font-medium",
            currentPath === ""
              ? "bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"
              : "text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-blue-600 dark:hover:text-blue-400",
          ]}
        >
          Domov
        </a>

        <a
          href="/event_timeline"
          class:list={[
            "block px-3 py-2 rounded-md text-base font-medium",
            currentPath === "event_timeline"
              ? "bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"
              : "text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-blue-600 dark:hover:text-blue-400",
          ]}
        >
          Udalosti
        </a>

        <a
          href="/projects"
          class:list={[
            "block px-3 py-2 rounded-md text-base font-medium",
            currentPath === "projects"
              ? "bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"
              : "text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-blue-600 dark:hover:text-blue-400",
          ]}
        >
          Projekty
        </a>

        <a
          href="/team"
          class:list={[
            "block px-3 py-2 rounded-md text-base font-medium",
            currentPath === "team"
              ? "bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"
              : "text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-blue-600 dark:hover:text-blue-400",
          ]}
        >
          Náš tím
        </a>
        <a
          href="/about_us"
          class:list={[
            "block px-3 py-2 rounded-md text-base font-medium",
            currentPath === "about_us"
              ? "bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"
              : "text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-blue-600 dark:hover:text-blue-400",
          ]}
        >
          O nás
        </a>

        <a
          href="/contact_us"
          class:list={[
            "block px-3 py-2 rounded-md text-base font-medium",
            currentPath === "contact_us"
              ? "bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"
              : "text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-blue-600 dark:hover:text-blue-400",
          ]}
        >
          Kontakt
        </a>

        <!-- Mobile contact button -->
        <div class="mt-4 pt-4 border-t border-gray-200 dark:border-gray-700">
          <a
            href="/contact_us"
            class="w-full flex items-center justify-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5 mr-2"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"
              ></path>
            </svg>
            Kontaktujte nás
          </a>
        </div>
      </div>
    </div>
  </nav>
</header>
